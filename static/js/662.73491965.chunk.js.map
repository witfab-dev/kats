{"version":3,"file":"static/js/662.73491965.chunk.js","mappings":"6LAAO,MAAMA,EAAa,CACxBC,KAAM,8CACNC,UAAW,QACXC,MAAO,sBACPC,QAAS,KACTC,SAAU,4CACVC,QAAS,CACPC,MAAO,mBACPC,MAAO,uBACPC,QAAS,yCACTC,YAAa,CACXC,KAAM,WACNC,IAAK,cAGTC,YAAa,CACXC,SAAU,6BACVC,QAAS,4BACTC,QAAS,4BACTC,UAAW,+BAEbC,cAAe,CACb,+CACA,kCACA,4CAISC,EAAQ,CACnB,CACEC,KAAM,iCACNC,MAAO,KACPC,MAAO,mBACPC,MAAO,UACPC,OAAQ,IACRC,YAAa,+BACbC,MAAO,KACPC,WAAY,OAEd,CACEP,KAAM,eACNC,MAAO,GACPC,MAAO,qBACPC,MAAO,UACPC,OAAQ,IACRC,YAAa,4BACbC,MAAO,KACPC,WAAY,MAEd,CACEP,KAAM,eACNC,MAAO,EACPC,MAAO,qBACPC,MAAO,UACPE,YAAa,4BACbC,MAAO,SACPC,WAAY,MAEd,CACEP,KAAM,iCACNC,MAAO,GACPC,MAAO,kBACPC,MAAO,OACPC,OAAQ,IACRC,YAAa,2BACbC,MAAO,KACPC,WAAY,OAEd,CACEP,KAAM,eACNC,MAAO,GACPC,MAAO,kBACPC,MAAO,UACPC,OAAQ,IACRC,YAAa,gCACbC,MAAO,KACPC,WAAY,MAEd,CACEP,KAAM,eACNC,MAAO,GACPC,MAAO,mBACPC,MAAO,OACPC,OAAQ,IACRC,YAAa,sBACbC,MAAO,SACPC,WAAY,OAIHC,EAAmB,CAC9BC,YAAa,YACbC,MAAO,CACL,CACEC,KAAM,EACN9B,KAAM,aACN+B,MAAO,aACPC,IAAK,aACLC,SAAU,CAAC,aAAc,cACzBC,MAAO,4BAET,CACEJ,KAAM,EACN9B,KAAM,cACN+B,MAAO,aACPC,IAAK,aACLC,SAAU,CAAC,aAAc,cACzBC,MAAO,4BAET,CACEJ,KAAM,EACN9B,KAAM,aACN+B,MAAO,aACPC,IAAK,aACLC,SAAU,CAAC,aAAc,cACzBC,MAAO,8BAKAC,EAAa,CACxB,CAAEC,KAAM,aAAcf,MAAO,oBAAqBF,KAAM,gBACxD,CAAEiB,KAAM,wBAAyBf,MAAO,oBAAqBF,KAAM,gBACnE,CAAEiB,KAAM,cAAef,MAAO,iBAAkBF,KAAM,gBACtD,CAAEiB,KAAM,WAAYf,MAAO,oBAAqBF,KAAM,gBACtD,CAAEiB,KAAM,WAAYf,MAAO,gBAAiBF,KAAM,gBAClD,CAAEiB,KAAM,eAAgBf,MAAO,cAAeF,KAAM,iBAGzCkB,EAAiB,CAC5BC,OAAQ,CACNC,SAAU,oBACVC,SAAU,oBACVC,OAAQ,UAEVC,eAAgB,CACdH,SAAU,oBACVC,SAAU,qBACVC,OAAQ,UAEVE,QAAS,CACPJ,SAAU,oBACVC,SAAU,oBACVC,OAAQ,sBAICG,EAAc,CACzB,sBACA,iBACA,qBACA,kBACA,iBACA,mBACA,oBACA,a,mECpJF,MAAMC,EAAkB,CAEtBC,iBAAkBC,CAAAA,SAAAA,aAAAA,WAAAA,QAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,8BAAgC,eAG9DC,aAAcF,CAAAA,SAAAA,aAAAA,WAAAA,QAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYG,0BAA4B,iBAGtDC,gBAAiBJ,CAAAA,SAAAA,aAAAA,WAAAA,QAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYK,6BAA+B,GAG5DC,wBAAyBN,CAAAA,SAAAA,aAAAA,WAAAA,QAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYO,6BAA+B,GACpEC,aAAcR,CAAAA,SAAAA,aAAAA,WAAAA,QAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYS,6BAA+B,GAGzDC,OAAOV,EAGPW,aAAc,GAIVC,EAAcA,KAElB,GAA6B,MAAzBC,UAAUC,WACZ,OAAO,EAKT,MAAmB,SADAC,aAAaC,QAAQ,yBAMpClB,EAAgBa,aAAe,IAC1BM,KAAKC,SAAWpB,EAAgBa,eAO9BQ,EAAsBA,KACX,qBAAXC,SAEXC,QAAQC,IAAI,0CAGRxB,EAAgBC,kBAClBwB,IAIEzB,EAAgBM,iBAClBoB,IAIE1B,EAAgBQ,yBAClBmB,IAGFJ,QAAQC,IAAI,wCAIRC,EAAgBA,KACfH,OAAOM,YACVN,OAAOM,UAAYN,OAAOM,WAAa,GACvCN,OAAOO,KAAO,WACZP,OAAOM,UAAUE,KAAKC,UACxB,EACAT,OAAOO,KAAK,KAAM,IAAIG,MACtBV,OAAOO,KAAK,SAAU7B,EAAgBC,iBAAkB,CACtDgC,WAAYC,SAASC,MACrBC,cAAed,OAAO/D,SAAS8E,KAC/BC,UAAWhB,OAAO/D,SAASgF,SAC3BC,gBAAgB,IAGdxC,EAAgBY,OAClBW,QAAQC,IAAI,kCAMZE,EAA0BA,KACzBJ,OAAOmB,MACVnB,OAAOmB,IAAM,WACXnB,OAAOmB,IAAIC,WACTpB,OAAOmB,IAAIC,WAAWC,MAAMrB,OAAOmB,IAAKV,WACxCT,OAAOmB,IAAIG,MAAMd,KAAKC,UAC1B,EACKT,OAAOuB,OAAMvB,OAAOuB,KAAOvB,OAAOmB,KACvCnB,OAAOmB,IAAIX,KAAOR,OAAOmB,IACzBnB,OAAOmB,IAAIK,QAAS,EACpBxB,OAAOmB,IAAIM,QAAU,MACrBzB,OAAOmB,IAAIG,MAAQ,GAGnBtB,OAAOmB,IAAI,OAAQzC,EAAgBM,iBACnCgB,OAAOmB,IAAI,QAAS,YAEhBzC,EAAgBY,OAClBW,QAAQC,IAAI,6CAMZG,EAA4BA,KAC5B3B,EAAgBY,OAClBW,QAAQC,IAAI,0CAKHwB,EAAgBC,eAAOC,GAAqC,IAA3BC,EAAgBpB,UAAAqB,OAAA,QAAAC,IAAAtB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChE,GAAsB,qBAAXT,OAAwB,OAEnC,IAAKR,IAIH,YAHId,EAAgBY,OAClBW,QAAQC,IAAI,gEAKhB,MAAM8B,EAAYpB,SAASC,OAAS,gBAC9BoB,EAAUjC,OAAO/D,SAAS8E,KAG1BmB,EAAgB,CACpBvB,WAAYqB,EACZlB,cAAemB,EACfjB,UAAWY,GAAY5B,OAAO/D,SAASgF,SACvCkB,SAAUvB,SAASuB,UAAY,GAC/BC,WAAY3C,UAAU4C,UACtBC,kBAAkB,GAADC,OAAKvC,OAAOwC,OAAOC,MAAK,KAAAF,OAAIvC,OAAOwC,OAAOE,QAC3DC,WAAW,IAAIjC,MAAOkC,cACtBC,YAAajH,EAAAA,GAAWC,KACxBiH,YAAalE,cAGTmE,GAAcC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQd,GAAkBL,GAE9C,IAEM7B,OAAOO,MAAQ7B,EAAgBC,kBACjCqB,OAAOO,KAAK,QAAS,YAAawC,GAIhC/C,OAAOmB,KACTnB,OAAOmB,IAAI,QAAS,YAIlBnB,OAAOiD,IAAMvE,EAAgBI,cAC/BkB,OAAOiD,GAAG,OAAQ,WAAYrB,GAI5BlD,EAAgBQ,+BACZgE,EAAsB,YAAaH,GAIvCrE,EAAgBY,OAClBW,QAAQC,IAAI,kCAAyB,CACnCiD,KAAMvB,EACNwB,IAAKnB,EACLpB,MAAOmB,EACPqB,OAAQN,IAKZO,EAAkB,YAAaP,EAEjC,CAAE,MAAOQ,GACPtD,QAAQsD,MAAM,gCAAuBA,EAEvC,CACF,EAqHML,EAAwBvB,MAAO6B,EAAWC,KAC9C,GAAK/E,EAAgBQ,wBAErB,IACE,MAAMwE,QAAiBC,MAAMjF,EAAgBQ,wBAAyB,CACpE0E,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAADtB,OAAY7D,EAAgBU,cAC3C,YAAaV,EAAgBU,cAE/B0E,KAAMC,KAAKC,UAAU,CACnBC,KAAMT,EACNC,KAAMA,EACNd,WAAW,IAAIjC,MAAOkC,cACtBsB,OAAQ,MACRzC,QAAS,UAIb,IAAKiC,EAASS,GACZ,MAAM,IAAIC,MAAM,wBAAD7B,OAAyBmB,EAASW,SAGnD,aAAaX,EAASY,MAExB,CAAE,MAAOf,GACPtD,QAAQsD,MAAM,uCAA8BA,GAE5CgB,EAAiBf,EAAWC,EAAMF,EAAMiB,QAC1C,GAMF,MAuBMlB,EAAoBA,CAACE,EAAWC,KACpC,GAAsB,qBAAXzD,OAEX,IACE,MAAMyE,EAAgBV,KAAKW,MAAM/E,aAAaC,QAAQ,6BAA+B,MACrF6E,EAAcjE,KAAK,CACjByD,KAAMT,EACNC,KAAMA,EACNkB,WAAW,IAAIjE,MAAOkC,gBAIpB6B,EAAc3C,OAAS,KACzB2C,EAAcG,OAAO,EAAGH,EAAc3C,OAAS,KAGjDnC,aAAakF,QAAQ,2BAA4Bd,KAAKC,UAAUS,GAClE,CAAE,MAAOlB,GACPtD,QAAQsD,MAAM,8CAAqCA,EACrD,GAGIgB,EAAmBA,CAACf,EAAWC,EAAMF,KACzC,GAAsB,qBAAXvD,OAEX,IACE,MAAM8E,EAAef,KAAKW,MAAM/E,aAAaC,QAAQ,4BAA8B,MACnFkF,EAAatE,KAAK,CAChByD,KAAMT,EACNC,KAAMA,EACNF,MAAOA,EACPwB,WAAW,IAAIrE,MAAOkC,gBAGxBjD,aAAakF,QAAQ,0BAA2Bd,KAAKC,UAAUc,GACjE,CAAE,MAAOvB,GACP,GAKSyB,EAAoBrD,UAC/B,GAAsB,qBAAX3B,OAEX,IACE,MAAM8E,EAAef,KAAKW,MAAM/E,aAAaC,QAAQ,4BAA8B,MACnF,GAA4B,IAAxBkF,EAAahD,OAAc,OAE/B,MAAMmD,EAAa,GAEnB,IAAK,MAAMC,KAASJ,EAClB,UACQ5B,EAAsBgC,EAAMjB,KAAMiB,EAAMzB,MAC9CwB,EAAWzE,KAAK0E,EAClB,CAAE,MAAO3B,GACP,CAKJ,MAAM4B,EAAYL,EAAaM,OAAOC,IAAMJ,EAAWK,SAASD,IAChE1F,aAAakF,QAAQ,0BAA2Bd,KAAKC,UAAUmB,IAE3DzG,EAAgBY,OAClBW,QAAQC,IAAI,wBAADqC,OAAe0C,EAAWnD,OAAM,aAAAS,OAAY4C,EAAUrD,OAAM,WAG3E,CAAE,MAAOyB,GACPtD,QAAQsD,MAAM,uCAA8BA,EAC9C,GAuDoB,qBAAXvD,QAETuF,WAAW,KACTxF,IAGAiF,IAGAQ,YAAYR,EAAmB,MAC9B,I","sources":["assets/data/constants.js","utils/analytics.js"],"sourcesContent":["export const schoolInfo = {\r\n  name: 'Kirehe Adventist Technical Secondary School',\r\n  shortName: 'KATSS',\r\n  motto: 'Success Demands Aim',\r\n  founded: 2004,\r\n  location: 'Kirehe District, Eastern Province, Rwanda',\r\n  contact: {\r\n    phone: '+250 788 416 574',\r\n    email: 'katsapapen@gmail.com',\r\n    address: 'Kigina Sector, Kirehe District, Rwanda',\r\n    coordinates: {\r\n      lat: -2.07172055,\r\n      lng: 30.70932825\r\n    }\r\n  },\r\n  socialMedia: {\r\n    facebook: 'https://facebook.com/katss',\r\n    youtube: 'https://youtube.com/katss',\r\n    twitter: 'https://twitter.com/katss',\r\n    instagram: 'https://instagram.com/katss'\r\n  },\r\n  accreditation: [\r\n    'Rwanda Workforce Development Authority (WDA)',\r\n    'Ministry of Education (MINEDUC)',\r\n    'Seventh-day Adventist Education Network'\r\n  ]\r\n};\r\n\r\nexport const stats = [\r\n  { \r\n    icon: 'ðŸ‘¨â€ðŸŽ“', \r\n    value: 1200, \r\n    label: 'Total Enrollment', \r\n    color: 'primary',\r\n    suffix: '+',\r\n    description: 'Students across all programs',\r\n    trend: 'up',\r\n    trendValue: '15%'\r\n  },\r\n  { \r\n    icon: 'ðŸŽ“', \r\n    value: 95, \r\n    label: 'Graduation Success', \r\n    color: 'success',\r\n    suffix: '%',\r\n    description: 'To Higher Ed / Employment',\r\n    trend: 'up',\r\n    trendValue: '5%'\r\n  },\r\n  { \r\n    icon: 'ðŸ”§', \r\n    value: 6, \r\n    label: 'Technical Programs', \r\n    color: 'warning',\r\n    description: 'Industry-focused training',\r\n    trend: 'stable',\r\n    trendValue: '0%'\r\n  },\r\n  { \r\n    icon: 'ðŸ‘¨â€ðŸ«', \r\n    value: 75, \r\n    label: 'Dedicated Staff', \r\n    color: 'info',\r\n    suffix: '+',\r\n    description: 'Teaching & support staff',\r\n    trend: 'up',\r\n    trendValue: '10%'\r\n  },\r\n  { \r\n    icon: 'ðŸ“ˆ', \r\n    value: 85, \r\n    label: 'Employment Rate', \r\n    color: 'primary',\r\n    suffix: '%',\r\n    description: 'Within 6 months of graduation',\r\n    trend: 'up',\r\n    trendValue: '8%'\r\n  },\r\n  { \r\n    icon: 'ðŸ†', \r\n    value: 20, \r\n    label: 'Years Experience', \r\n    color: 'dark',\r\n    suffix: '+',\r\n    description: 'Since establishment',\r\n    trend: 'stable',\r\n    trendValue: '0%'\r\n  }\r\n];\r\n\r\nexport const academicCalendar = {\r\n  currentYear: '2025-2026',\r\n  terms: [\r\n    {\r\n      term: 1,\r\n      name: 'First Term',\r\n      start: '2025-01-13',\r\n      end: '2025-04-04',\r\n      holidays: ['2025-02-01', '2025-03-08'],\r\n      exams: '2025-03-25 to 2025-03-30'\r\n    },\r\n    {\r\n      term: 2,\r\n      name: 'Second Term',\r\n      start: '2025-04-15',\r\n      end: '2025-07-25',\r\n      holidays: ['2025-05-01', '2025-07-01'],\r\n      exams: '2025-07-20 to 2025-07-25'\r\n    },\r\n    {\r\n      term: 3,\r\n      name: 'Third Term',\r\n      start: '2025-08-12',\r\n      end: '2025-11-25',\r\n      holidays: ['2025-09-25', '2025-10-26'],\r\n      exams: '2025-11-20 to 2025-11-25'\r\n    }\r\n  ]\r\n};\r\n\r\nexport const quickLinks = [\r\n  { path: '/academics', label: 'Academic Calendar', icon: 'ðŸ“…' },\r\n  { path: '/downloads/prospectus', label: 'School Prospectus', icon: 'ðŸ“˜' },\r\n  { path: '/admissions', label: 'Admission Form', icon: 'ðŸ“' },\r\n  { path: '/contact', label: 'Contact Directory', icon: 'ðŸ“ž' },\r\n  { path: '/gallery', label: 'Photo Gallery', icon: 'ðŸ“·' },\r\n  { path: '/news-events', label: 'Latest News', icon: 'ðŸ“°' }\r\n];\r\n\r\nexport const operatingHours = {\r\n  school: {\r\n    weekdays: '7:00 AM - 5:00 PM',\r\n    saturday: '8:00 AM - 1:00 PM',\r\n    sunday: 'Closed'\r\n  },\r\n  administration: {\r\n    weekdays: '8:00 AM - 5:00 PM',\r\n    saturday: '9:00 AM - 12:00 PM',\r\n    sunday: 'Closed'\r\n  },\r\n  library: {\r\n    weekdays: '8:00 AM - 8:00 PM',\r\n    saturday: '9:00 AM - 5:00 PM',\r\n    sunday: '2:00 PM - 6:00 PM'\r\n  }\r\n};\r\n\r\nexport const departments = [\r\n  'Academic Department',\r\n  'Administration',\r\n  'Finance & Accounts',\r\n  'Student Affairs',\r\n  'ICT Department',\r\n  'Library Services',\r\n  'Sports Department',\r\n  'Chaplaincy'\r\n];","/**\r\n * Analytics utility for tracking user behavior and page views\r\n */\r\n\r\nimport { schoolInfo } from '../assets/data/constants';\r\n\r\n// Configuration\r\nconst analyticsConfig = {\r\n  // Google Analytics 4\r\n  ga4MeasurementId: process.env.REACT_APP_GA4_MEASUREMENT_ID || 'G-XXXXXXXXXX',\r\n  \r\n  // Google Analytics (Universal Analytics - Optional)\r\n  uaTrackingId: process.env.REACT_APP_UA_TRACKING_ID || 'UA-XXXXXXXXX-X',\r\n  \r\n  // Facebook Pixel\r\n  facebookPixelId: process.env.REACT_APP_FACEBOOK_PIXEL_ID || '',\r\n  \r\n  // Custom Analytics API\r\n  customAnalyticsEndpoint: process.env.REACT_APP_ANALYTICS_API_URL || '',\r\n  customApiKey: process.env.REACT_APP_ANALYTICS_API_KEY || '',\r\n  \r\n  // Development mode\r\n  debug: process.env.NODE_ENV === 'development',\r\n  \r\n  // Sampling rate (0 to 1, 1 = track all)\r\n  samplingRate: 1.0\r\n};\r\n\r\n// Check if we should track (respects sampling rate and user preferences)\r\nconst shouldTrack = () => {\r\n  // Respect \"Do Not Track\" browser setting\r\n  if (navigator.doNotTrack === '1') {\r\n    return false;\r\n  }\r\n  \r\n  // Check local storage for user preference\r\n  const userOptOut = localStorage.getItem('analytics_opt_out');\r\n  if (userOptOut === 'true') {\r\n    return false;\r\n  }\r\n  \r\n  // Apply sampling rate\r\n  if (analyticsConfig.samplingRate < 1.0) {\r\n    return Math.random() < analyticsConfig.samplingRate;\r\n  }\r\n  \r\n  return true;\r\n};\r\n\r\n// Initialize analytics\r\nexport const initializeAnalytics = () => {\r\n  if (typeof window === 'undefined') return; // Skip during SSR\r\n  \r\n  console.log('ðŸ“Š Initializing analytics...');\r\n  \r\n  // Initialize Google Analytics 4\r\n  if (analyticsConfig.ga4MeasurementId) {\r\n    initializeGA4();\r\n  }\r\n  \r\n  // Initialize Facebook Pixel\r\n  if (analyticsConfig.facebookPixelId) {\r\n    initializeFacebookPixel();\r\n  }\r\n  \r\n  // Initialize custom analytics\r\n  if (analyticsConfig.customAnalyticsEndpoint) {\r\n    initializeCustomAnalytics();\r\n  }\r\n  \r\n  console.log('ðŸ“Š Analytics initialized');\r\n};\r\n\r\n// Google Analytics 4 Initialization\r\nconst initializeGA4 = () => {\r\n  if (!window.dataLayer) {\r\n    window.dataLayer = window.dataLayer || [];\r\n    window.gtag = function() {\r\n      window.dataLayer.push(arguments);\r\n    };\r\n    window.gtag('js', new Date());\r\n    window.gtag('config', analyticsConfig.ga4MeasurementId, {\r\n      page_title: document.title,\r\n      page_location: window.location.href,\r\n      page_path: window.location.pathname,\r\n      send_page_view: false // We'll send page views manually\r\n    });\r\n    \r\n    if (analyticsConfig.debug) {\r\n      console.log('ðŸ“Š GA4 initialized');\r\n    }\r\n  }\r\n};\r\n\r\n// Facebook Pixel Initialization\r\nconst initializeFacebookPixel = () => {\r\n  if (!window.fbq) {\r\n    window.fbq = function() {\r\n      window.fbq.callMethod ? \r\n        window.fbq.callMethod.apply(window.fbq, arguments) : \r\n        window.fbq.queue.push(arguments);\r\n    };\r\n    if (!window._fbq) window._fbq = window.fbq;\r\n    window.fbq.push = window.fbq;\r\n    window.fbq.loaded = true;\r\n    window.fbq.version = '2.0';\r\n    window.fbq.queue = [];\r\n    \r\n    // Initialize Pixel\r\n    window.fbq('init', analyticsConfig.facebookPixelId);\r\n    window.fbq('track', 'PageView');\r\n    \r\n    if (analyticsConfig.debug) {\r\n      console.log('ðŸ“Š Facebook Pixel initialized');\r\n    }\r\n  }\r\n};\r\n\r\n// Custom Analytics Initialization\r\nconst initializeCustomAnalytics = () => {\r\n  if (analyticsConfig.debug) {\r\n    console.log('ðŸ“Š Custom analytics enabled');\r\n  }\r\n};\r\n\r\n// Main page tracking function\r\nexport const trackPageView = async (pagePath, additionalParams = {}) => {\r\n  if (typeof window === 'undefined') return; // Skip during SSR\r\n  \r\n  if (!shouldTrack()) {\r\n    if (analyticsConfig.debug) {\r\n      console.log('ðŸ“Š Tracking skipped (user preference or sampling)');\r\n    }\r\n    return;\r\n  }\r\n  \r\n  const pageTitle = document.title || 'KATSS Website';\r\n  const pageUrl = window.location.href;\r\n  \r\n  // Default parameters\r\n  const defaultParams = {\r\n    page_title: pageTitle,\r\n    page_location: pageUrl,\r\n    page_path: pagePath || window.location.pathname,\r\n    referrer: document.referrer || '',\r\n    user_agent: navigator.userAgent,\r\n    screen_resolution: `${window.screen.width}x${window.screen.height}`,\r\n    timestamp: new Date().toISOString(),\r\n    school_name: schoolInfo.name,\r\n    environment: process.env.NODE_ENV\r\n  };\r\n  \r\n  const trackingParams = { ...defaultParams, ...additionalParams };\r\n  \r\n  try {\r\n    // Track in Google Analytics 4\r\n    if (window.gtag && analyticsConfig.ga4MeasurementId) {\r\n      window.gtag('event', 'page_view', trackingParams);\r\n    }\r\n    \r\n    // Track in Facebook Pixel\r\n    if (window.fbq) {\r\n      window.fbq('track', 'PageView');\r\n    }\r\n    \r\n    // Track in Universal Analytics (if still using)\r\n    if (window.ga && analyticsConfig.uaTrackingId) {\r\n      window.ga('send', 'pageview', pagePath);\r\n    }\r\n    \r\n    // Send to custom analytics endpoint\r\n    if (analyticsConfig.customAnalyticsEndpoint) {\r\n      await sendToCustomAnalytics('page_view', trackingParams);\r\n    }\r\n    \r\n    // Log in development\r\n    if (analyticsConfig.debug) {\r\n      console.log('ðŸ“Š Page view tracked:', {\r\n        page: pagePath,\r\n        url: pageUrl,\r\n        title: pageTitle,\r\n        params: trackingParams\r\n      });\r\n    }\r\n    \r\n    // Store in local history (optional, for offline tracking)\r\n    storeOfflineEvent('page_view', trackingParams);\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ“Š Analytics error:', error);\r\n    // Don't throw to prevent breaking the app\r\n  }\r\n};\r\n\r\n// Event tracking\r\nexport const trackEvent = async (eventName, eventParams = {}) => {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  if (!shouldTrack()) return;\r\n  \r\n  const defaultParams = {\r\n    event_category: 'general',\r\n    event_label: '',\r\n    value: 0,\r\n    non_interaction: false,\r\n    timestamp: new Date().toISOString(),\r\n    user_id: localStorage.getItem('user_id') || 'anonymous',\r\n    session_id: getSessionId()\r\n  };\r\n  \r\n  const fullParams = { ...defaultParams, ...eventParams };\r\n  \r\n  try {\r\n    // Google Analytics 4\r\n    if (window.gtag) {\r\n      window.gtag('event', eventName, fullParams);\r\n    }\r\n    \r\n    // Facebook Pixel\r\n    if (window.fbq && eventName === 'purchase') {\r\n      window.fbq('track', 'Purchase', {\r\n        value: fullParams.value,\r\n        currency: 'RWF'\r\n      });\r\n    }\r\n    \r\n    // Custom analytics\r\n    if (analyticsConfig.customAnalyticsEndpoint) {\r\n      await sendToCustomAnalytics('event', {\r\n        event_name: eventName,\r\n        ...fullParams\r\n      });\r\n    }\r\n    \r\n    if (analyticsConfig.debug) {\r\n      console.log('ðŸ“Š Event tracked:', { eventName, params: fullParams });\r\n    }\r\n    \r\n    // Store for offline\r\n    storeOfflineEvent('custom_event', { event_name: eventName, ...fullParams });\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ“Š Event tracking error:', error);\r\n  }\r\n};\r\n\r\n// Specific event helpers\r\nexport const trackButtonClick = (buttonName, location = '') => {\r\n  trackEvent('button_click', {\r\n    event_category: 'engagement',\r\n    event_label: buttonName,\r\n    location: location || window.location.pathname,\r\n    button_name: buttonName\r\n  });\r\n};\r\n\r\nexport const trackFormSubmission = (formName, success = true, duration = 0) => {\r\n  trackEvent('form_submission', {\r\n    event_category: 'forms',\r\n    event_label: formName,\r\n    form_name: formName,\r\n    success: success,\r\n    duration_ms: duration,\r\n    value: success ? 1 : 0\r\n  });\r\n};\r\n\r\nexport const trackDownload = (fileName, fileType) => {\r\n  trackEvent('file_download', {\r\n    event_category: 'engagement',\r\n    event_label: fileName,\r\n    file_name: fileName,\r\n    file_type: fileType,\r\n    value: 1\r\n  });\r\n};\r\n\r\nexport const trackOutboundLink = (url, linkText) => {\r\n  trackEvent('outbound_click', {\r\n    event_category: 'engagement',\r\n    event_label: url,\r\n    outbound_link: url,\r\n    link_text: linkText || '',\r\n    value: 1\r\n  });\r\n};\r\n\r\nexport const trackApplicationStart = (program, level) => {\r\n  trackEvent('application_start', {\r\n    event_category: 'admissions',\r\n    event_label: program,\r\n    program: program,\r\n    level: level,\r\n    value: 1\r\n  });\r\n};\r\n\r\nexport const trackApplicationComplete = (applicationId, program, duration) => {\r\n  trackEvent('application_complete', {\r\n    event_category: 'admissions',\r\n    event_label: program,\r\n    application_id: applicationId,\r\n    program: program,\r\n    duration_ms: duration,\r\n    value: 1\r\n  });\r\n};\r\n\r\n// Custom analytics endpoint\r\nconst sendToCustomAnalytics = async (eventType, data) => {\r\n  if (!analyticsConfig.customAnalyticsEndpoint) return;\r\n  \r\n  try {\r\n    const response = await fetch(analyticsConfig.customAnalyticsEndpoint, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${analyticsConfig.customApiKey}`,\r\n        'X-API-Key': analyticsConfig.customApiKey\r\n      },\r\n      body: JSON.stringify({\r\n        type: eventType,\r\n        data: data,\r\n        timestamp: new Date().toISOString(),\r\n        source: 'web',\r\n        version: '1.0'\r\n      })\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Analytics API error: ${response.status}`);\r\n    }\r\n    \r\n    return await response.json();\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ“Š Custom analytics error:', error);\r\n    // Store failed events for retry\r\n    storeFailedEvent(eventType, data, error.message);\r\n  }\r\n};\r\n\r\n// Session management\r\nlet sessionId = null;\r\n\r\nconst getSessionId = () => {\r\n  if (!sessionId) {\r\n    sessionId = localStorage.getItem('analytics_session_id');\r\n    if (!sessionId) {\r\n      sessionId = generateSessionId();\r\n      localStorage.setItem('analytics_session_id', sessionId);\r\n      localStorage.setItem('analytics_session_start', new Date().toISOString());\r\n      \r\n      // Track session start\r\n      trackEvent('session_start', {\r\n        event_category: 'session',\r\n        session_id: sessionId\r\n      });\r\n    }\r\n  }\r\n  return sessionId;\r\n};\r\n\r\nconst generateSessionId = () => {\r\n  return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\n// Offline storage for events\r\nconst storeOfflineEvent = (eventType, data) => {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  try {\r\n    const offlineEvents = JSON.parse(localStorage.getItem('analytics_offline_events') || '[]');\r\n    offlineEvents.push({\r\n      type: eventType,\r\n      data: data,\r\n      stored_at: new Date().toISOString()\r\n    });\r\n    \r\n    // Keep only last 100 events\r\n    if (offlineEvents.length > 100) {\r\n      offlineEvents.splice(0, offlineEvents.length - 100);\r\n    }\r\n    \r\n    localStorage.setItem('analytics_offline_events', JSON.stringify(offlineEvents));\r\n  } catch (error) {\r\n    console.error('ðŸ“Š Failed to store offline event:', error);\r\n  }\r\n};\r\n\r\nconst storeFailedEvent = (eventType, data, error) => {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  try {\r\n    const failedEvents = JSON.parse(localStorage.getItem('analytics_failed_events') || '[]');\r\n    failedEvents.push({\r\n      type: eventType,\r\n      data: data,\r\n      error: error,\r\n      failed_at: new Date().toISOString()\r\n    });\r\n    \r\n    localStorage.setItem('analytics_failed_events', JSON.stringify(failedEvents));\r\n  } catch (error) {\r\n    // Silently fail\r\n  }\r\n};\r\n\r\n// Retry failed events\r\nexport const retryFailedEvents = async () => {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  try {\r\n    const failedEvents = JSON.parse(localStorage.getItem('analytics_failed_events') || '[]');\r\n    if (failedEvents.length === 0) return;\r\n    \r\n    const successful = [];\r\n    \r\n    for (const event of failedEvents) {\r\n      try {\r\n        await sendToCustomAnalytics(event.type, event.data);\r\n        successful.push(event);\r\n      } catch (error) {\r\n        // Keep failed events for next retry\r\n      }\r\n    }\r\n    \r\n    // Remove successfully sent events\r\n    const remaining = failedEvents.filter(e => !successful.includes(e));\r\n    localStorage.setItem('analytics_failed_events', JSON.stringify(remaining));\r\n    \r\n    if (analyticsConfig.debug) {\r\n      console.log(`ðŸ“Š Retried ${successful.length} events, ${remaining.length} remain`);\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ“Š Failed to retry events:', error);\r\n  }\r\n};\r\n\r\n// User opt-in/opt-out\r\nexport const setAnalyticsOptOut = (optOut) => {\r\n  if (typeof window === 'undefined') return;\r\n  \r\n  localStorage.setItem('analytics_opt_out', optOut.toString());\r\n  \r\n  if (optOut) {\r\n    // Clear session data\r\n    localStorage.removeItem('analytics_session_id');\r\n    localStorage.removeItem('analytics_session_start');\r\n    \r\n    // Disable GA tracking\r\n    if (window.gtag) {\r\n      window.gtag('config', analyticsConfig.ga4MeasurementId, {\r\n        'allow_ad_personalization_signals': false,\r\n        'allow_google_signals': false\r\n      });\r\n    }\r\n    \r\n    trackEvent('analytics_opt_out');\r\n    \r\n  } else {\r\n    // Re-enable tracking\r\n    initializeAnalytics();\r\n    trackEvent('analytics_opt_in');\r\n  }\r\n  \r\n  if (analyticsConfig.debug) {\r\n    console.log(`ðŸ“Š Analytics ${optOut ? 'disabled' : 'enabled'} by user`);\r\n  }\r\n};\r\n\r\n// Get analytics status\r\nexport const getAnalyticsStatus = () => {\r\n  if (typeof window === 'undefined') {\r\n    return { enabled: false, reason: 'server_side' };\r\n  }\r\n  \r\n  const userOptOut = localStorage.getItem('analytics_opt_out') === 'true';\r\n  const doNotTrack = navigator.doNotTrack === '1';\r\n  \r\n  return {\r\n    enabled: !userOptOut && !doNotTrack,\r\n    user_opt_out: userOptOut,\r\n    do_not_track: doNotTrack,\r\n    session_id: getSessionId(),\r\n    session_start: localStorage.getItem('analytics_session_start'),\r\n    environment: process.env.NODE_ENV\r\n  };\r\n};\r\n\r\n// Initialize on load\r\nif (typeof window !== 'undefined') {\r\n  // Initialize after a short delay to not block page load\r\n  setTimeout(() => {\r\n    initializeAnalytics();\r\n    \r\n    // Retry any failed events from previous sessions\r\n    retryFailedEvents();\r\n    \r\n    // Set up periodic sync\r\n    setInterval(retryFailedEvents, 5 * 60 * 1000); // Every 5 minutes\r\n  }, 1000);\r\n}\r\n\r\n// Export all functions\r\nexport default {\r\n  initializeAnalytics,\r\n  trackPageView,\r\n  trackEvent,\r\n  trackButtonClick,\r\n  trackFormSubmission,\r\n  trackDownload,\r\n  trackOutboundLink,\r\n  trackApplicationStart,\r\n  trackApplicationComplete,\r\n  setAnalyticsOptOut,\r\n  getAnalyticsStatus,\r\n  retryFailedEvents\r\n};"],"names":["schoolInfo","name","shortName","motto","founded","location","contact","phone","email","address","coordinates","lat","lng","socialMedia","facebook","youtube","twitter","instagram","accreditation","stats","icon","value","label","color","suffix","description","trend","trendValue","academicCalendar","currentYear","terms","term","start","end","holidays","exams","quickLinks","path","operatingHours","school","weekdays","saturday","sunday","administration","library","departments","analyticsConfig","ga4MeasurementId","process","REACT_APP_GA4_MEASUREMENT_ID","uaTrackingId","REACT_APP_UA_TRACKING_ID","facebookPixelId","REACT_APP_FACEBOOK_PIXEL_ID","customAnalyticsEndpoint","REACT_APP_ANALYTICS_API_URL","customApiKey","REACT_APP_ANALYTICS_API_KEY","debug","samplingRate","shouldTrack","navigator","doNotTrack","localStorage","getItem","Math","random","initializeAnalytics","window","console","log","initializeGA4","initializeFacebookPixel","initializeCustomAnalytics","dataLayer","gtag","push","arguments","Date","page_title","document","title","page_location","href","page_path","pathname","send_page_view","fbq","callMethod","apply","queue","_fbq","loaded","version","trackPageView","async","pagePath","additionalParams","length","undefined","pageTitle","pageUrl","defaultParams","referrer","user_agent","userAgent","screen_resolution","concat","screen","width","height","timestamp","toISOString","school_name","environment","trackingParams","_objectSpread","ga","sendToCustomAnalytics","page","url","params","storeOfflineEvent","error","eventType","data","response","fetch","method","headers","body","JSON","stringify","type","source","ok","Error","status","json","storeFailedEvent","message","offlineEvents","parse","stored_at","splice","setItem","failedEvents","failed_at","retryFailedEvents","successful","event","remaining","filter","e","includes","setTimeout","setInterval"],"ignoreList":[],"sourceRoot":""}